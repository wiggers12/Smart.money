<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Jogo de Alfabetização</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      text-align: center;
    }
    .tela { display: none; height: 100vh; padding: 20px; }
    .ativa { display: flex; flex-direction: column; align-items: center; justify-content: center; }

    /* SPLASH */
    #splash {
      background: #0077b6;
      color: white;
      font-size: 28px;
    }

    /* MENU */
    #menu {
      background: #f0f9ff;
      font-size: 24px;
    }

    /* BOTÕES */
    button {
      background: #0077b6;
      color: white;
      border: none;
      padding: 15px 30px;
      margin: 10px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 20px;
      transition: 0.3s;
    }
    button:hover { background: #00b4d8; }

    /* OPÇÕES (cards) */
    #opcoes {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 15px;
      width: 100%;
      max-width: 400px;
      margin: 20px auto;
    }

    .opcao {
      background: #ff6b6b;
      color: white;
      border-radius: 10px;
      cursor: pointer;
      font-size: 22px;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 80px;
      min-width: 120px;
      transition: 0.3s;
    }
    .opcao:hover { background: #ff9f43; }

    #resultado { font-size: 22px; margin-top: 15px; font-weight: bold; }
  </style>
</head>
<body>
  <!-- SPLASH -->
  <div id="splash" class="tela ativa">
    <h1>🎉 Bem-vindo 🎉</h1>
    <p>Carregando...</p>
  </div>

  <!-- MENU -->
  <div id="menu" class="tela">
    <h2>Escolha uma fase</h2>
    <button onclick="iniciarFase('alfabeto')">🔤 Alfabeto</button>
    <button onclick="iniciarFase('vogais')">🅰️ Vogais</button>
    <button onclick="iniciarFase('consoantes')">🅱️ Consoantes</button>
    <button onclick="iniciarFase('silabas')">🔡 Sílabas</button>
  </div>

  <!-- FASE DE PERGUNTAS -->
  <div id="fase" class="tela">
    <h2 id="tituloFase"></h2>
    <h3 id="pergunta"></h3>
    <div id="opcoes"></div>
    <div id="resultado"></div>
    <button onclick="voltarMenu()">⬅️ Voltar</button>
  </div>

  <script>
    function mostrarTela(id) {
      document.querySelectorAll(".tela").forEach(t => t.classList.remove("ativa"));
      document.getElementById(id).classList.add("ativa");
    }

    // SPLASH → MENU
    window.onload = () => {
      setTimeout(() => { mostrarTela("menu"); }, 3000);
    };

    // Gera o alfabeto completo
    const alfabeto = Array.from(Array(26)).map((_, i) => String.fromCharCode(65 + i));
    const vogais = ["A", "E", "I", "O", "U"];
    const consoantes = alfabeto.filter(l => !vogais.includes(l));

    // Gera perguntas do alfabeto
    const perguntasAlfabeto = alfabeto.map(l => ({
      pergunta: `Qual é a letra ${l}?`,
      opcoes: embaralhar([l, ...pegarDistratores(l)]),
      resposta: l
    }));

    // Perguntas das vogais
    const perguntasVogais = vogais.map(v => ({
      pergunta: `Qual é a vogal ${v}?`,
      opcoes: embaralhar([v, ...vogais.filter(x => x !== v).slice(0,2)]),
      resposta: v
    }));

    // Perguntas das consoantes
    const perguntasConsoantes = consoantes.map(c => ({
      pergunta: `Qual é a consoante ${c}?`,
      opcoes: embaralhar([c, ...consoantes.filter(x => x !== c).slice(0,2)]),
      resposta: c
    }));

    // Perguntas das sílabas (C + V)
    const perguntasSilabas = [];
    consoantes.forEach(c => {
      vogais.forEach(v => {
        perguntasSilabas.push({
          pergunta: `${c} + ${v} = ?`,
          opcoes: embaralhar([c+v, c+"A", c+"E"]),
          resposta: c+v
        });
      });
    });

    // Banco de fases
    const fases = {
      alfabeto: { titulo: "🔤 Fase: Alfabeto", perguntas: perguntasAlfabeto },
      vogais: { titulo: "🅰️ Fase: Vogais", perguntas: perguntasVogais },
      consoantes: { titulo: "🅱️ Fase: Consoantes", perguntas: perguntasConsoantes },
      silabas: { titulo: "🔡 Fase: Sílabas", perguntas: perguntasSilabas }
    };

    // Helpers
    function embaralhar(arr) {
      return arr.sort(() => Math.random() - 0.5);
    }

    function pegarDistratores(correta) {
      return alfabeto.filter(l => l !== correta).sort(() => Math.random() - 0.5).slice(0,2);
    }

    // Jogo
    let faseAtual = null;
    let indice = 0;

    function iniciarFase(nomeFase) {
      faseAtual = fases[nomeFase];
      indice = 0;
      document.getElementById("tituloFase").innerText = faseAtual.titulo;
      carregarPergunta();
      mostrarTela("fase");
    }

    function carregarPergunta() {
      let q = faseAtual.perguntas[indice];
      document.getElementById("pergunta").innerText = q.pergunta;

      let opcoesDiv = document.getElementById("opcoes");
      opcoesDiv.innerHTML = "";
      q.opcoes.forEach(opcao => {
        let btn = document.createElement("div");
        btn.className = "opcao";
        btn.innerText = opcao;
        btn.onclick = () => verificarResposta(opcao);
        opcoesDiv.appendChild(btn);
      });

      document.getElementById("resultado").innerText = "";
    }

    function verificarResposta(opcao) {
      let q = faseAtual.perguntas[indice];
      if (opcao === q.resposta) {
        document.getElementById("resultado").innerText = "✅ Acertou!";
        setTimeout(() => {
          indice++;
          if (indice < faseAtual.perguntas.length) {
            carregarPergunta();
          } else {
            document.getElementById("pergunta").innerText = "🎉 Você completou esta fase!";
            document.getElementById("opcoes").innerHTML = "";
            document.getElementById("resultado").innerText = "";
          }
        }, 800);
      } else {
        document.getElementById("resultado").innerText = "❌ Tente de novo!";
      }
    }

    function voltarMenu() {
      mostrarTela("menu");
    }
  </script>
</body>
</html>
